{% extends "base.html" %}

{% block content %}
<div class="container-fluid py-4 d-flex justify-content-center">
  <div style="width:100%; max-width:1100px;">

    <!-- sticky header / toolbar -->
    <div class="d-flex flex-wrap justify-content-between align-items-start mb-3"
         style="position:sticky; top:0; z-index:10; background:#f8f9fa; padding:.5rem 0; border-bottom:1px solid #dee2e6;">

      <div class="me-3">
        <div class="fw-semibold text-uppercase"
             style="font-size:1rem; letter-spacing:.03em; line-height:1.2;">
          Import Parts
        </div>
        <div class="text-muted" style="font-size:.8rem; line-height:1.2;">
          Upload supplier invoice / stock file
        </div>
      </div>

      <div class="d-flex flex-column flex-sm-row gap-2 mt-2 mt-sm-0">
        <a href="{{ url_for('inventory.dashboard') }}"
           class="btn btn-outline-secondary btn-sm shadow-sm"
           style="font-weight:500; min-width:140px; border-radius:.6rem;">
          ← Back to Dashboard
        </a>
      </div>
    </div>

    <!-- card with upload form -->
    <div class="card shadow-sm border-0"
         style="max-width:520px;
                border-radius:1rem;
                background:linear-gradient(#ffffff,#fcfcfc);
                box-shadow:0 .75rem 1.5rem rgba(0,0,0,.08)!important;">
      <div class="card-header bg-white border-0"
           style="border-radius:1rem 1rem 0 0; border-bottom:1px solid #dee2e6;">
        <div class="fw-semibold text-uppercase"
             style="font-size:.8rem; letter-spacing:.05em; color:#6c757d;">
          Select File
        </div>
        <div class="text-muted"
             style="font-size:.7rem; line-height:1.2;">
          We accept Excel (.xlsx/.xls), CSV, or PDF
        </div>
      </div>

      <div class="card-body" style="padding:1.25rem 1.25rem 1rem 1.25rem;">
        <form method="POST"
              enctype="multipart/form-data"
              autocomplete="off">

          <div class="mb-3">
            <label for="file"
                   class="form-label fw-semibold mb-1"
                   style="font-size:.8rem; text-transform:uppercase; letter-spacing:.05em;">
              Choose File
            </label>
            <input class="form-control form-control-sm"
                   type="file"
                   id="file"
                   name="file"
                   accept=".xlsx,.xls,.csv,.pdf"
                   required
                   style="border-radius:.6rem; font-size:.9rem; padding:.55rem .75rem;">
            <div class="form-text" style="font-size:.7rem; line-height:1.2;">
              Example: Marcone invoice, ReliableParts PO, stock count CSV
            </div>
          </div>

          <div class="d-grid">
            <button type="submit"
                    class="btn btn-primary shadow-sm"
                    style="font-weight:600;
                           border-radius:.8rem;
                           padding:.6rem 1rem;
                           font-size:.9rem;
                           box-shadow:0 .6rem 1.2rem rgba(13,110,253,.35)!important;">
              ⬆ Upload & Preview
            </button>
          </div>

        </form>
      </div>

      <div class="card-footer bg-white text-muted"
           style="border-top:1px solid #dee2e6; border-radius:0 0 1rem 1rem; font-size:.7rem; line-height:1.4;">
        <div class="mb-2">
          <span class="fw-semibold">Required columns (Excel/CSV):</span>
          Part Number, Name, Quantity, Unit Cost, Location
        </div>
        <div>
          PDF must be text-based (you can select/copy text).
          Scanned photos/PDF are not auto-read because OCR is disabled.
        </div>
        {# если потом включите страницу настроек OCR, можно вернуть ссылку:
        <div class="mt-2">
          Need OCR for scanned PDFs?
          Enable it in Import Settings after installing Tesseract + Poppler.
        </div>
        #}
      </div>
    </div>

    <div class="text-center text-muted mt-4"
         style="font-size:.7rem; line-height:1.3;">
      WEST COAST CHIEF REPAIR • Internal Inventory
    </div>

  </div>
</div>
{% endblock %}
