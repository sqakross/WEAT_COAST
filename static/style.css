/* =========================
   Base layout + helpers
   ========================= */
body{
  font-family: Arial, sans-serif;
  background-color:#f6f6f6;
  padding:20px;
  margin:0;
}

.navbar{ z-index:1200; }
.navbar .dropdown-menu{ z-index:1300; }

/* Флэши */
#messages li{ padding:10px; margin-bottom:10px; border-radius:4px; }
#messages li.success{ background:#c6f6d5; color:#22543d; }
#messages li.danger{  background:#fed7d7; color:#742a2a; }

/* Общие таблицы */
table{ width:100%; border-collapse:collapse; margin-top:20px; }
table th, table td{ padding:10px; border:1px solid #ddd; text-align:left; }

/* Числа ровно по правому краю */
.num-cell,
.text-end input.form-control{
  text-align:right;
  font-variant-numeric: tabular-nums;
}

/* =========================
   ВАЖНО: глобальные инпуты (не ломаем чекбоксы)
   ========================= */
form input:not([type="checkbox"]):not([type="radio"]):not(.form-check-input),
form select,
form textarea{
  width: 100%;
  box-sizing: border-box;
}

/* ===== Жёсткий reset для чекбоксов (видимость и клик) ===== */
input[type="checkbox"],
.form-check-input{
  width: 1.05rem !important;
  height: 1.05rem !important;
  display: inline-block !important;
  vertical-align: middle !important;
  appearance: auto !important;
  -webkit-appearance: checkbox !important;
  -moz-appearance: checkbox !important;
  background: initial !important;
  border: initial !important;
  opacity: 1 !important;
  pointer-events: auto !important;
  cursor: pointer !important;
}

/* Когда реально disabled — это видно */
input[type="checkbox"][disabled],
.form-check-input[disabled]{
  opacity:.6 !important;
  cursor:not-allowed !important;
}

/* =========================
   Work Order (multi-appliance)
   ========================= */
.col-narrow{ width:90px; }
.col-money { width:90px; text-align:right; }
.col-qty   { width:64px;  text-align:right; }
.col-issue { width:60px;  text-align:center; }

.wo-form .unit-table{
  table-layout:fixed;
  font-size:.9rem;
}
.wo-form .unit-table th,
.wo-form .unit-table td{
  padding:.35rem .45rem;
  vertical-align:middle;
}

/* Контролы в строках таблицы — одинаковая высота */
.wo-form .unit-table .form-control,
.wo-form .unit-table .form-select{
  height:1.85rem;
  line-height:1.35;
  padding:.2rem .4rem;
  font-size:.9rem;
}

/* Псевдо-инпут для суммы */
.ro-input{
  display:flex;
  align-items:center;
  height:1.85rem;
  padding:.2rem .4rem;
  border:1px solid transparent;
  font-size:.9rem;
  line-height:1.35;
}

.unit-subtotal, #grandTotal{ font-variant-numeric: tabular-nums; font-weight:600; }
.hint{ font-weight:600; font-size:.85rem; white-space:nowrap; }

/* Шапка таблицы не перехватывает клики */
.wo-form .unit-table thead th{
  position: static !important;
  z-index: auto !important;
  pointer-events: none;
}

/* Ячейки и чекбоксы поверх/кликабельны */
.wo-form .unit-table td{ position:relative; overflow:visible; }
.wo-form .unit-table td.col-issue,
.wo-form .unit-table td.issue-cell{ text-align:center; }

.wo-form .unit-table .form-check-input.issue-check{
  position: relative;
  z-index: 3;
  pointer-events: auto !important;
  opacity: 1 !important;
  cursor: pointer;
}

/* На всякий случай, если родителю навешены .disabled или .pe-none */
.wo-form .unit-table .form-check.disabled .form-check-input.issue-check:not([disabled]),
.wo-form .unit-table .form-check-input.issue-check.pe-none:not([disabled]){
  pointer-events: auto !important;
}

/* =========================
   Reports (минимум)
   ========================= */
.reports-grouped .report-table-wrap .table{ font-size:.875rem; }
.reports-grouped .report-table-wrap .table td,
.reports-grouped .report-table-wrap .table th{
  vertical-align:middle; padding:.40rem .50rem; line-height:1.35; white-space:nowrap;
}
.reports-grouped .report-table-wrap .table input,
.reports-grouped .report-table-wrap .table select{
  font-size:.875rem !important; line-height:1.35 !important; height:1.8rem !important;
  padding:.25rem .45rem !important; box-sizing:border-box;
}
.reports-grouped .table-sticky thead th{ position:sticky; top:0; z-index:1; background:#f8f9fa; }




